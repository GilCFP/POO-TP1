{% extends 'base.html' %}
{% load static %}

{% block title %}Cardápio - Nosso Restaurante{% endblock %}

{% block content %}
<div class="container mt-4">
    <header class="text-center mb-5">
        <h1>Nosso Cardápio</h1>
        <p class="lead">Explore nossas deliciosas opções!</p>
    </header>
    
    <!-- CSRF Token para as requisições AJAX -->
    <input type="hidden" name="csrfmiddlewaretoken" value="{{ csrf_token }}">
    
    <!-- Dados dos produtos em JSON para o React -->
    {{ produtos_data|json_script:"produtos-data" }}
    
    <!-- Container onde o React será montado -->
    <div id="cardapio-root">
        <p>Carregando cardápio...</p>
    </div>
</div>
{% endblock %}

{% block extra_js %}
    {# Carrega o bundle de bibliotecas compartilhadas (vendor) primeiro #}
    <script src="{% static 'shared/client/vendor.bundle.js' %}"></script>
    {# Em seguida, carrega o bundle específico da página do cardápio (já inclui os componentes) #}
    <script src="{% static 'produto/client/cardapio.bundle.js' %}"></script>
{% endblock %}